(function(t){function e(e){for(var r,o,l=e[0],c=e[1],n=e[2],m=0,f=[];m<l.length;m++)o=l[m],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);p&&p(e);while(f.length)f.shift()();return s.push.apply(s,n||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],r=!0,l=1;l<i.length;l++){var c=i[l];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var r={},a={app:0},s=[];function o(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=r,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(i,r,function(e){return t[e]}.bind(null,r));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/diy-h5-platform-demo/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var n=0;n<l.length;n++)e(l[n]);var p=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0084":function(t,e,i){},"10ac":function(t,e,i){},"124c":function(t,e,i){"use strict";i("aafe")},1686:function(t,e,i){},"1b1a":function(t,e,i){"use strict";i("6216")},"285e":function(t,e,i){},"3b0c":function(t,e,i){"use strict";i("fdce")},"45c5":function(t,e,i){"use strict";i("0084")},"56d7":function(t,e,i){"use strict";i.r(e);var r=i("2b0e"),a=i("5c96"),s=i.n(a),o=(i("0fae"),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("platform")],1)}),l=[],c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"platform"},[e("left-slide",{on:{selectCard:t.handleSelectCard}}),e("overview",{attrs:{overViewList:t.formList,baseInfo:t.baseForm.ow,currentSelect:t.selectFrom.id},on:{selectBox:t.setSelectForm,delItem:t.handleDelItem,sort:t.handleSort}}),e("div",{staticClass:"right-form"},[t.loaded?e("base-info",{directives:[{name:"show",rawName:"v-show",value:"base"==t.selectFrom.id,expression:"selectFrom.id == 'base'"}],ref:t.baseForm.ref,attrs:{uniqueKey:t.baseForm.id,propFormData:t.baseForm.props.propFormData},on:{changeForm:t.handleChangeBase}}):t._e(),t._l(t.formList,(function(i){return e(i.com,t._b({directives:[{name:"show",rawName:"v-show",value:t.selectFrom.id==i.id,expression:"selectFrom.id == formItem.id"}],key:i.id,ref:i.refCom,refInFor:!0,tag:"component",attrs:{cardName:t.currentCardName},on:{changeForm:t.handleChangeForm}},"component",i.props,!1))}))],2)],1)},n=[];i("14d9");const p={base:0,onePic:1,twoPic:2,triPic:3,windows:4,headTitle:5,paragraph:6,spacing:7,swiper:8},m={1:"单列图片",2:"双列图片",3:"三列图片",4:"橱窗位",5:"标题",6:"文本段落",7:"上下间距",8:"轮播图"},f={url:"https://t1.focus-img.cn/applet/2021-08-20/094db21fed1b4934a95ac343cdf8defb.jpg",text:"配置基础信息",type:p.base},d=[{title:"基础卡片",key:0,cards:[{url:"https://t1.focus-img.cn/applet/2021-08-20/6a6953fbd9a042208dce5d754881802a.jpg",text:"单列图片",type:p.onePic},{url:"https://t1.focus-img.cn/applet/2021-08-20/670e94f3cc2945af9a93403c99795324.jpg",text:"双列图片",type:p.twoPic},{url:"https://t1.focus-img.cn/applet/2021-08-20/4af87913add84adcaee692ee0c8cb4ad.jpg",text:"三列图片",type:p.triPic},{url:"https://t1.focus-img.cn/applet/2021-09-26/b4294aea88f84c2ca968cb9c2a7934b2.jpg",text:"轮播图",type:p.swiper},{url:"https://t1.focus-img.cn/applet/2021-08-20/ede195af054f450e877138c7d2dbac63.jpg",text:"橱窗位",type:p.windows},{url:"https://t1.focus-img.cn/applet/2021-08-20/91689959d05140e6b099ab6a81feb953.jpg",text:"标题",type:p.headTitle},{url:"https://t1.focus-img.cn/applet/2021-08-20/1a0b4aa2d76c4720a21a15615040811d.jpg",text:"文本段落",type:p.paragraph},{url:"https://t1.focus-img.cn/applet/2021-09-07/ff4346e2a38f47f7a9919d0a6a58c8f4.jpg",text:"上下间距",type:p.spacing}]}],u=(t,e)=>{const i=[];for(const r in p){const a=p[r];a>=t&&a<=e&&i.push(a)}return i},h=u(1,99);var g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"diy-form"},[e("div",{staticClass:"head"},[t._v("卡片编辑区域")]),e("h3",{staticClass:"h3-title"},[t._v(t._s(t.h3Ttile))]),e("el-form",{ref:"form",attrs:{model:t.formData,"label-position":"right",inline:""}},[t.type==t.ENUM_CARD.onePic?e("el-form-item",{attrs:{label:"侧间距"}},[e("el-radio-group",{model:{value:t.formData.margin,callback:function(e){t.$set(t.formData,"margin",e)},expression:"formData.margin"}},[e("el-radio",{attrs:{label:!0}},[t._v("有")]),e("el-radio",{attrs:{label:!1}},[t._v("无")])],1)],1):t._e(),e("div",{staticClass:"upload-text"},[t._v("上传图片")]),e("div",{staticClass:"tip"},[t._v(t._s(t.sizeTip))]),t._l(t.formData.pics,(function(i,r){return e("div",{key:r,staticClass:"upload-form-item"},[e("el-form-item",{attrs:{label:"图片链接",prop:"pics."+r+".imgUrl"}},[e("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入图片链接"},model:{value:i.imgUrl,callback:function(e){t.$set(i,"imgUrl",e)},expression:"item.imgUrl"}})],1),e("el-form-item",{attrs:{label:"跳转链接",prop:"pics."+r+".link"}},[e("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入跳转链接"},model:{value:i.link,callback:function(e){t.$set(i,"link",e)},expression:"item.link"}})],1),t.type<3?e("el-form-item",{attrs:{label:"展示文本"}},[e("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入展示文本"},model:{value:i.text,callback:function(e){t.$set(i,"text",e)},expression:"item.text"}})],1):t._e()],1)}))],2)],1)},b=[],v={props:{uniqueKey:{type:[String,Number],default:""},propFormData:{type:Object,default:()=>{}}},watch:{formData:{deep:!0,handler(t){this.$emit("changeForm",this.uniqueKey,t)}}},methods:{beforeUpload(t){const e=0===t.type.indexOf("image"),i=t.size/1024/1024<1;return e?!!i||(this.notifyMsg("注意","上传图片大小不能超过 1MB!","error"),!1):(this.notifyMsg("注意","图片格式不正确!","error"),!1)},notifyMsg(t="成功",e="成功",i="success"){this.$notify({title:t,message:e,type:i})},validate(){return new Promise(t=>{this.$refs.form.validate(e=>{t(e)})})},collectFormData(){return JSON.parse(JSON.stringify(this.postParams||this.formData))},deepClone(t){return JSON.parse(JSON.stringify(t))}}},C={mixins:[v],props:{type:{type:Number,default:p.onePic}},data(){return{formData:{margin:!0,pics:[]},ENUM_CARD:p}},computed:{h3Ttile(){const t={1:"单列图片",2:"双列图片",3:"三列图片",4:"橱窗位"};return t[this.type]},postParams(){const t={1:"onePic",2:"twoPic",3:"triPic",4:"windows"},e={type:t[this.type],pics:this.formData.pics};return 1==this.type&&(e.margin=this.formData.margin),e},accept(){return 1==this.type?"image/jpeg, image/png, image/gif":"image/jpeg, image/png"},sizeTip(){const t={2:"建议图片宽度为335px，高度为250px",3:"建议图片宽度为216px，高度为162px",4:"左边大图建议尺寸宽335px、高280px，右边小图宽335px、高130px"};return t[this.type]||"建议图片宽度为750px，高度为200-950px"}},created(){if(this.propFormData.type)this.formData={margin:this.propFormData.margin,pics:this.propFormData.pics};else{const t=[],e={1:1,2:2,3:3,4:3};for(let i=0;i<e[this.type];i++)t.push({imgUrl:"",text:"",link:""});this.formData.pics=t}}},y=C,w=(i("bd75"),i("2877")),x=Object(w["a"])(y,g,b,!1,null,"a09b44a6",null),D=x.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"diy-form"},[e("div",{staticClass:"head"},[t._v("卡片编辑区域")]),e("h3",{staticClass:"h3-title"},[t._v("标题")]),e("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"80px","label-position":"right",rules:t.rules}},[e("el-form-item",{attrs:{label:"标题",prop:"title"}},[e("el-input",{staticClass:"input-width",attrs:{maxlength:"10",placeholder:"请输入标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}}),e("span",{staticClass:"grey-text"},[t._v(t._s(t.formData.title&&t.formData.title.length||0)+"/10")])],1),e("el-form-item",{attrs:{label:"字体样式"}},[e("el-radio-group",{model:{value:t.formData.isBold,callback:function(e){t.$set(t.formData,"isBold",e)},expression:"formData.isBold"}},[e("el-radio",{attrs:{label:!0}},[t._v("加粗")]),e("el-radio",{attrs:{label:!1}},[t._v("不加粗")])],1)],1),e("el-form-item",{attrs:{label:"标题样式"}},[e("el-radio-group",{model:{value:t.formData.style,callback:function(e){t.$set(t.formData,"style",e)},expression:"formData.style"}},[e("el-radio",{attrs:{label:0}},[t._v("居左")]),e("el-radio",{attrs:{label:1}},[t._v("居中")])],1)],1),e("div",{staticClass:"tip"},[t._v("居左标题建议图标尺寸为 56*56px")]),e("div",{staticClass:"tip"},[t._v("居中标题建议图标为 750*100px")]),e("el-form-item",{attrs:{label:"缩略图"}},[e("el-input",{attrs:{placeholder:"请输入图片链接"},model:{value:t.formData.imgUrl,callback:function(e){t.$set(t.formData,"imgUrl",e)},expression:"formData.imgUrl"}})],1),e("el-form-item",{attrs:{label:"跳转链接",prop:"link"}},[e("el-input",{attrs:{placeholder:"请输入跳转链接"},model:{value:t.formData.link,callback:function(e){t.$set(t.formData,"link",e)},expression:"formData.link"}})],1),e("el-form-item",{attrs:{label:"字体颜色",prop:"color"}},[e("el-color-picker",{model:{value:t.formData.color,callback:function(e){t.$set(t.formData,"color",e)},expression:"formData.color"}})],1)],1)],1)},k=[];const F=(t,e,i)=>{let r=/(^https:\/\/)/g;e.length&&!r.test(e)?i("请检查链接格式"):i()};var N={mixins:[v],data(){return{formData:{type:"headTitle",title:"",isBold:!0,style:0,imgUrl:"",link:"",color:"#000000"},rules:{title:[{required:!0,message:"请输入文本",trigger:"blur"}],color:[{required:!0,message:"请选择颜色",trigger:"blur"}],link:[{validator:F,trigger:"blur"}]}}},created(){if(this.propFormData.type){const{title:t,isBold:e,style:i,imgUrl:r,link:a,color:s}=this.propFormData;this.formData={type:"headTitle",title:t,isBold:e,style:i,imgUrl:r,link:a,color:s}}}},I=N,j=(i("b55c"),Object(w["a"])(I,_,k,!1,null,"6d0ce775",null)),P=j.exports,U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"diy-form"},[e("div",{staticClass:"head"},[t._v("卡片编辑区域")]),e("h3",{staticClass:"h3-title"},[t._v("文本段落")]),e("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"80px","label-position":"right",rules:t.rules}},[e("el-form-item",{attrs:{label:"内容",prop:"text"}},[e("el-input",{attrs:{autosize:{minRows:2,maxRows:10},type:"textarea",placeholder:"请输入段落内容"},model:{value:t.formData.text,callback:function(e){t.$set(t.formData,"text",e)},expression:"formData.text"}})],1),e("el-form-item",{attrs:{label:"文本颜色",prop:"color"}},[e("el-color-picker",{model:{value:t.formData.color,callback:function(e){t.$set(t.formData,"color",e)},expression:"formData.color"}})],1),e("el-form-item",{attrs:{label:"背景颜色",prop:"bgColor"}},[e("el-color-picker",{model:{value:t.formData.bgColor,callback:function(e){t.$set(t.formData,"bgColor",e)},expression:"formData.bgColor"}})],1)],1)],1)},$=[],S={mixins:[v],data(){return{formData:{text:"",color:"#000000",bgColor:"#ffffff"},rules:{text:[{required:!0,message:"请输入文本",trigger:"blur"}],color:[{required:!0,message:"请选择颜色",trigger:"blur"}],bgColor:[{required:!0,message:"请选择颜色",trigger:"blur"}]}}},computed:{postParams(){return{type:"paragraph",color:this.formData.color,text:this.formData.text,bgColor:this.formData.bgColor}}},created(){if(this.propFormData.type){const{text:t,color:e,bgColor:i}=this.propFormData;this.formData={text:t,color:e,bgColor:i}}}},O=S,B=(i("a127"),Object(w["a"])(O,U,$,!1,null,"223c93d8",null)),M=B.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"diy-form"},[e("div",{staticClass:"head"},[t._v("卡片编辑区域")]),e("h3",{staticClass:"h3-title"},[t._v("上下间距")]),e("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"90px","label-position":"right",rules:t.rules}},[e("el-form-item",{attrs:{label:"高度(px)",prop:"height"}},[e("el-input",{attrs:{placeholder:"请输入高度"},model:{value:t.formData.height,callback:function(e){t.$set(t.formData,"height",t._n(e))},expression:"formData.height"}})],1),e("el-form-item",{attrs:{label:"背景颜色",prop:"bgColor"}},[e("el-color-picker",{model:{value:t.formData.bgColor,callback:function(e){t.$set(t.formData,"bgColor",e)},expression:"formData.bgColor"}})],1)],1)],1)},E=[];i("d9e2");const T=(t,e,i)=>{""!==e&&e<=0?i(new Error("必须是正整数")):i()};var A={mixins:[v],data(){return{formData:{height:"",bgColor:""},rules:{height:[{required:!0,message:"请输入高度",trigger:"blur"},{validator:T,trigger:"blur"}]}}},computed:{postParams(){return{type:"spacing",height:this.formData.height,bgColor:this.formData.bgColor}}},created(){if(this.propFormData.type){const{height:t,bgColor:e}=this.propFormData;this.formData={height:t,bgColor:e}}}},R=A,q=(i("f979"),Object(w["a"])(R,L,E,!1,null,"5560c462",null)),z=q.exports,J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"diy-form"},[e("div",{staticClass:"head"},[t._v("卡片编辑区域")]),e("h3",{staticClass:"h3-title"},[t._v("轮播图")]),e("el-form",{ref:"form",attrs:{model:t.formData,"label-position":"left",inline:""}},[e("div",{staticClass:"upload-text"},[t._v("上传图片")]),e("div",{staticClass:"tip"},[t._v("支持2-6张图片")]),e("div",{staticClass:"tip"},[t._v("建议图片宽度为690px，高度为230px")]),t._l(t.formData.pics,(function(i,r){return e("div",{key:r,staticClass:"flex-box"},[e("div",{staticClass:"left"},[e("el-form-item",{attrs:{label:"图片链接",prop:"pics."+r+".imgUrl"}},[e("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入图片链接"},model:{value:i.imgUrl,callback:function(e){t.$set(i,"imgUrl",e)},expression:"item.imgUrl"}})],1),e("el-form-item",{attrs:{label:"跳转链接",prop:"pics."+r+".link"}},[e("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入跳转链接"},model:{value:i.link,callback:function(e){t.$set(i,"link",e)},expression:"item.link"}})],1)],1),e("div",{staticClass:"right"},[t.formData.pics.length>2?e("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(e){return t.delItem(r)}}},[t._v("删除")]):t._e()],1)])})),e("div",{staticClass:"btn-box"},[t.formData.pics.length<6?e("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.addItem}},[t._v("添加")]):t._e()],1)],2)],1)},K=[];const V=()=>({imgUrl:"",text:"",link:""});var G={mixins:[v],props:{type:{type:Number,default:p.swiper}},data(){return{formData:{pics:[]},ENUM_CARD:p}},computed:{postParams(){const t={type:"swiper",pics:this.formData.pics};return t}},created(){this.propFormData.type?this.formData={pics:this.propFormData.pics}:this.formData.pics=[V(),V()]},methods:{delItem(t){this.formData.pics.splice(t,1)},addItem(){this.formData.pics.push(V())}}},H=G,Q=(i("ef2e"),Object(w["a"])(H,J,K,!1,null,"30359d61",null)),W=Q.exports;const X=new Map([[p.headTitle,P],[p.paragraph,M],[p.spacing,z],[p.swiper,W]]),Y=[{match(t){const e=[p.onePic,p.twoPic,p.triPic,p.windows];return e.includes(t)},action(){return D}},{match(t){return!!X.get(t)},action(t){return X.get(t)}}];function Z(t,e,i={},r={}){let a;for(let s=0;s<Y.length;s++){const t=Y[s];if(t.match(e)){a=t.action(e);break}}return{com:a,props:Object.assign({uniqueKey:t,propFormData:{}},i),refCom:"refCom"+t,error:!1,ow:r,type:e,compName:m[e],id:t}}const tt=new Map([[p.onePic,function(t){return Z(t,p.onePic,{type:p.onePic},{pics:[]})}],[p.twoPic,function(t){return Z(t,p.twoPic,{type:p.twoPic},{pics:[]})}],[p.triPic,function(t){return Z(t,p.triPic,{type:p.triPic},{pics:[]})}],[p.swiper,function(t){return Z(t,p.swiper,{type:p.swiper},{pics:[]})}],[p.windows,function(t){return Z(t,p.windows,{type:p.windows},{pics:[]})}],[p.headTitle,function(t){return Z(t,p.headTitle,void 0,{isBold:!0,style:0})}],[p.paragraph,function(t){return Z(t,p.paragraph)}],[p.spacing,function(t){return Z(t,p.spacing)}]]);var et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"left-slide"},[e("h3",{staticClass:"h3-title"},[t._v("页面基础配置")]),e("div",{staticClass:"card-list"},[e("card",{attrs:{data:t.baseCard},on:{click:function(e){return t.handleClick(t.baseCard)}}})],1),e("h3",{staticClass:"h3-title"},[t._v("内容卡片选择区域")]),e("div",{staticClass:"card-list"},t._l(t.contentCardList,(function(i){return e("div",{key:i.key,staticClass:"module"},[e("div",{staticClass:"module-title"},[e("i",{staticClass:"icon2018 icon"},[t._v("")]),e("div",{staticClass:"text"},[t._v(t._s(i.title))])]),t._l(i.cards,(function(i){return e("card",{key:i.type,attrs:{data:i},on:{click:function(e){return t.handleClick(i)}}})}))],2)})),0)])},it=[],rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",on:{click:t.handleClick}},[e("img",{staticClass:"card-img",attrs:{src:t.data.url}}),e("div",{staticClass:"card-text"},[t._v(" "+t._s(t.data.text)+" ")])])},at=[],st={props:{data:{type:Object,default:()=>{}}},methods:{handleClick(){this.$emit("click")}}},ot=st,lt=(i("1b1a"),Object(w["a"])(ot,rt,at,!1,null,"c46353ae",null)),ct=lt.exports,nt={components:{card:ct},data(){return{baseCard:f,contentCardList:d}},methods:{handleClick(t){this.$emit("selectCard",t)}}},pt=nt,mt=(i("45c5"),Object(w["a"])(pt,et,it,!1,null,"a0736f86",null)),ft=mt.exports,dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overview-wrapper"},[e("div",{staticClass:"overview-part",style:{"padding-top":t.baseInfo.title?"0":"20px",background:t.baseInfo.bgColor}},[t.baseInfo.title?e("div",{staticClass:"title",style:{color:t.baseInfo.titleColor,background:t.baseInfo.titleBgColor}},[t._v(" "+t._s(t.baseInfo.title)+" ")]):t._e(),t._l(t.overViewList,(function(i){return e("div",{key:i.id,staticClass:"item-container",class:{select:t.currentSelect==i.id,error:i.error},on:{click:function(e){return t.selectBox(i.id,i.compName)}}},[t.baseCardList.includes(i.type)?[e("baseCards",{attrs:{item:i}})]:t._e(),e("el-popconfirm",{attrs:{title:"删除模块？"},on:{confirm:function(e){return t.delItem(i.id)}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentSelect==i.id,expression:"currentSelect == item.id"}],staticClass:"del-btn el-icon-delete-solid",attrs:{slot:"reference"},slot:"reference"})])],2)}))],2),e("div",{staticClass:"sort-box-part"},[e("sort",{attrs:{list:t.overViewList,currentSelect:t.currentSelect},on:{delItem:t.delItem,selectBox:t.selectBox,sort:t.sort}})],1)])},ut=[],ht=function(){var t=this,e=t._self._c;return e("div",[t.item.type==t.ENUM_CARD.onePic?e("div",{staticClass:"one-pic",class:t.item.ow.margin?"showMargin":""},[e("img",{staticClass:"one-pic-img",attrs:{src:t.item.ow.pics&&t.item.ow.pics[0]&&t.item.ow.pics[0].imgUrl||t.DefaultImgMap.pic1}}),t.item.ow.pics&&t.item.ow.pics[0]&&t.item.ow.pics[0].text?e("div",{staticClass:"one-pic-text str-limit",class:t.item.ow.margin?"showMargin":""},[t._v(" "+t._s(t.item.ow.pics&&t.item.ow.pics[0]&&t.item.ow.pics[0].text)+" ")]):t._e()]):t._e(),t.item.type==t.ENUM_CARD.twoPic?e("div",{staticClass:"two-pic"},t._l(t.item.ow.pics,(function(i,r){return e("div",{key:r,staticClass:"two-pic-item"},[e("img",{attrs:{src:i.imgUrl||t.DefaultImgMap.pic2}}),i.text?e("div",{staticClass:"text str-limit"},[t._v(t._s(i.text))]):t._e()])})),0):t._e(),t.item.type==t.ENUM_CARD.triPic?e("div",{staticClass:"tri-pic"},t._l(t.item.ow.pics,(function(i,r){return e("img",{key:r,staticClass:"item",attrs:{src:i.imgUrl||t.DefaultImgMap.pic2}})})),0):t._e(),t.item.type==t.ENUM_CARD.swiper?e("div",{staticClass:"swiper-box"},[t.item.ow.pics.filter(t=>t.imgUrl).length<2?e("div",{staticClass:"sketch"},[e("img",{staticClass:"swiper-item",attrs:{src:"https://t1.focus-img.cn/applet/2021-09-26/ecd47658c4fb4889ad2281abe06105ec.jpg"}})]):e("el-carousel",{attrs:{arrow:"never",height:"120px","indicator-position":"none",interval:2e3}},t._l(t.item.ow.pics,(function(t,i){return e("div",{key:i},[e("el-carousel-item",[e("img",{staticClass:"swiper-item",attrs:{src:t.imgUrl}})])],1)})),0)],1):t._e(),t.item.type==t.ENUM_CARD.windows?e("div",{staticClass:"windows"},[e("img",{staticClass:"left-img",attrs:{src:t.item.ow.pics[0]&&t.item.ow.pics[0].imgUrl||t.DefaultImgMap.pic2}}),e("div",{staticClass:"right"},[e("img",{staticClass:"right-img",attrs:{src:t.item.ow.pics[1]&&t.item.ow.pics[1].imgUrl||t.DefaultImgMap.pic2}}),e("img",{staticClass:"right-img",attrs:{src:t.item.ow.pics[2]&&t.item.ow.pics[2].imgUrl||t.DefaultImgMap.pic2}})])]):t._e(),t.item.type==t.ENUM_CARD.headTitle?e("div",{staticClass:"head-title"},[0==t.item.ow.style?e("div",{staticClass:"style1"},[t.item.ow.imgUrl?e("img",{staticClass:"icon",attrs:{src:t.item.ow.imgUrl}}):t._e(),e("div",{staticClass:"text",class:{bold:t.item.ow.isBold},style:{color:t.item.ow.color}},[t._v(" "+t._s(t.item.ow.title||"自定义标题")+" ")])]):e("div",{staticClass:"style2"},[t.item.ow.imgUrl?e("img",{staticClass:"icon",attrs:{src:t.item.ow.imgUrl}}):t._e(),e("div",{staticClass:"text",class:{bold:t.item.ow.isBold},style:{color:t.item.ow.color}},[t._v(" "+t._s(t.item.ow.title||"自定义标题")+" ")])])]):t._e(),t.item.type==t.ENUM_CARD.paragraph?e("div",{staticClass:"paragraph",style:{background:t.item.ow.bgColor}},[e("div",{staticClass:"text",style:{color:t.item.ow.color}},[t._v(" "+t._s(t.item.ow.text||"自定义段落")+" ")])]):t._e(),t.item.type==t.ENUM_CARD.spacing?e("div",{staticClass:"spacing"},[t.item.ow.height?e("div",{style:{height:t.item.ow.height/2+"px",background:t.item.ow.bgColor}}):e("div",[t._v("自定义间距")])]):t._e()])},gt=[];const bt={pic1:"http://t1.focus-img.cn/applet/2021-08-21/3791f04bc8674275982cb901b1bee6cf.jpg",pic2:"http://t1.focus-img.cn/applet/2021-08-21/ff6629a26cfa4806b2196a8e2e3f5667.jpg",pic3:"https://t1.focus-img.cn/applet/2021-08-24/7f3b962c0e16483b876cfb5d72d78ed9.jpg",pic4:"//t1.focus-img.cn/applet/2021-08-24/6f0817c7ad064d179a2cab827188ea39.jpg",pic5:"//t1.focus-img.cn/applet/2021-08-24/666b2f3d78ea4aad9329fc9cd7db2cf6.jpg"};var vt={props:{item:{type:Object,default:()=>{}}},data(){return{ENUM_CARD:p,DefaultImgMap:Object.freeze(bt)}}},Ct=vt,yt=(i("cd46"),Object(w["a"])(Ct,ht,gt,!1,null,"22ec2ee4",null)),wt=yt.exports,xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sort-box"},[e("div",{staticClass:"title"},[t._v("缩略图")]),e("div",{ref:"sort-list",staticClass:"list"},t._l(t.list,(function(i){return e("div",{key:i.id,staticClass:"item",class:{select:t.currentSelect==i.id},attrs:{"data-id":i.id},on:{click:function(e){return t.selectBox(i)}}},[e("div",{staticClass:"left"},[e("div",{staticClass:"el-icon-menu"}),i.id!=t.editId?e("div",{staticClass:"text",attrs:{title:i.compName}},[t._v(" "+t._s(i.compName)+" ")]):e("input",{directives:[{name:"model",rawName:"v-model",value:i.compName,expression:"item.compName"}],ref:"input"+i.id,refInFor:!0,staticClass:"text-input",attrs:{autofocus:""},domProps:{value:i.compName},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.clearEditId(i)},blur:function(e){return e.stopPropagation(),t.clearEditId(i)},input:function(e){e.target.composing||t.$set(i,"compName",e.target.value)}}})]),t.currentSelect==i.id&&i.id!=t.editId?e("div",{staticClass:"el-icon-edit-outline edit-icon",on:{click:function(e){return t.clickEdit(i)}}}):t._e()])})),0)])},Dt=[],_t=i("aa47"),kt={props:{list:{type:Array,default:()=>[]},currentSelect:{type:[String,Number],default:""}},data(){return{editId:"",originName:""}},mounted(){this.initTabSort()},methods:{handleDel(t){this.$emit("delItem",t.id)},selectBox(t){this.$emit("selectBox",t.id,t.compName)},initTabSort(){const t=new _t["a"](this.$refs["sort-list"],{onEnd:()=>{const e=t.toArray();this.$emit("sort",e)},animation:300})},clickEdit(t){this.editId=t.id,this.originName=t.compName;const e="input"+t.id;this.$nextTick(()=>{const t=this.$refs[e][0];t.focus()})},clearEditId(t){this.editId="",t.compName=t.compName||this.originName,this.originName=""}}},Ft=kt,Nt=(i("6f85"),Object(w["a"])(Ft,xt,Dt,!1,null,"c11bae80",null)),It=Nt.exports,jt={components:{sort:It,baseCards:wt},props:{overViewList:{type:Array,default:()=>[]},currentSelect:{type:[String,Number],default:""},baseInfo:{type:Object,default:()=>{}}},data(){return{baseCardList:h}},methods:{selectBox(t,e){this.$emit("selectBox",t,e)},delItem(t){this.$emit("delItem",t)},sort(t){this.$emit("sort",t)}}},Pt=jt,Ut=(i("3b0c"),Object(w["a"])(Pt,dt,ut,!1,null,"959adf0e",null)),$t=Ut.exports,St=function(){var t=this,e=t._self._c;return e("div",{staticClass:"diy-form"},[e("div",{staticClass:"head"},[t._v("卡片编辑区域")]),e("h3",{staticClass:"h3-title"},[t._v("页面基础配置")]),e("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"110px","label-position":"right",rules:t.rules}},[e("el-form-item",{attrs:{label:"页面标题",prop:"title"}},[e("el-input",{staticClass:"input-width",attrs:{maxlength:"12",placeholder:"请输入页面标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}}),e("span",{staticClass:"grey-text"},[t._v(" "+t._s(t.formData.title&&t.formData.title.length||0)+"/12")])],1),e("el-form-item",{attrs:{label:"标题文字颜色"}},[e("el-radio-group",{model:{value:t.formData.titleColor,callback:function(e){t.$set(t.formData,"titleColor",e)},expression:"formData.titleColor"}},[e("el-radio",{attrs:{label:"#000000"}},[t._v("黑")]),e("el-radio",{attrs:{label:"#ffffff"}},[t._v("白")])],1)],1),e("el-form-item",{attrs:{label:"标题背景颜色",prop:"titleBgColor"}},[e("el-color-picker",{model:{value:t.formData.titleBgColor,callback:function(e){t.$set(t.formData,"titleBgColor",e)},expression:"formData.titleBgColor"}})],1),e("el-form-item",{attrs:{label:"页面背景颜色",prop:"bgColor"}},[e("el-color-picker",{model:{value:t.formData.bgColor,callback:function(e){t.$set(t.formData,"bgColor",e)},expression:"formData.bgColor"}})],1)],1)],1)},Ot=[];i("5494");function Bt(t,e,i){["#fff","#ffffff","#FFF","#FFFFFF"].includes(e)?i(new Error("页面背景色不可以设为白色")):i()}var Mt={mixins:[v],data(){return{formData:{title:"",titleColor:"#000000",titleBgColor:"#ffffff",bgColor:"#f5f5f6"},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],titleBgColor:[{required:!0,message:"请选择颜色",trigger:"blur"}],bgColor:[{validator:Bt,trigger:"blur"}]}}},computed:{postParams(){const t=this.deepClone(this.formData);return t.type="base",t}},created(){if(this.propFormData.type){const{title:t,titleColor:e,titleBgColor:i,bgColor:r}=this.propFormData;this.formData={title:t,titleColor:e||"#000000",titleBgColor:i,bgColor:r}}},methods:{beforeUploadSharePoster(t){return new Promise(e=>{const i=0===t.type.indexOf("image"),r=t.size/1024/1024<1;if(!i)return this.notifyMsg("注意","图片格式不正确!","error"),e(!1);if(!r)return this.notifyMsg("注意","上传图片大小不能超过 1MB!","error"),e(!1);const a=new Image,s=window.URL||window.webkitURL;a.src=s.createObjectURL(t);const o=this;a.onload=function(){590!=this.width||930!=this.height?(o.notifyMsg("注意","图片尺寸不正确!","error"),e(!1)):e(!0)}})}}},Lt=Mt,Et=(i("fbd5"),Object(w["a"])(Lt,St,Ot,!1,null,"5892638d",null)),Tt=Et.exports;let At=1;var Rt={components:{leftSlide:ft,baseInfo:Tt,overview:$t},data(){return{selectFrom:{id:"base"},formList:[],baseForm:{id:"base",ref:"refBase",ow:{},props:{propFormData:{}}},type:"",behavior:"",cityId:1,id:"",loaded:!1,currentSelectIndex:0,curTab:"",currentCardName:""}},created(){const t=1;this.cityId=Number(t),this.type="cityList",this.behavior="create",this.curTab="list",this.loaded=!0},methods:{setSelectForm(t,e){this.currentSelectIndex=this.getCurrentIndex(t),this.selectFrom={id:t},this.currentCardName=e},handleSelectCard(t){if(this.$nextTick(()=>{this.currentCardName=t.text}),t.type==p.base)this.setSelectForm("base");else{const e=this.getFormInfo(t.type,At);this.formList.splice(this.currentSelectIndex+1,0,e),this.setSelectForm(At),At++}},getFormInfo(t,e){const i=tt.get(t);return i.call(this,e)},handleChangeForm(t,e){const i=this.formList.find(e=>e.id==t);i&&(i.ow=e)},handleDelItem(t){const e=this.formList.findIndex(e=>e.id==t);this.formList.splice(e,1);let i=e>=1?e-1:e;this.formList.length>0?this.setSelectForm(this.formList[i].id):this.setSelectForm("base")},validateBase(){const t=this.$refs[this.baseForm.ref];return t.validate()},validateAll(){return new Promise(t=>{const e=this.formList.map((t,e)=>({pos:e,refCom:t.refCom})),i=e=>{const r=e.pop(),a=this.$refs[r.refCom][0];a.validate?a.validate().then(a=>{const s=a;this.formList[r.pos].error=!s,s||t(!1),e.length>0?i(e):t(!0)}):e.length>0?i(e):t(!0)};e.length?i(e):t(!0)})},getAllFormData(){const t=this.$refs[this.baseForm.ref].collectFormData(),e=this.formList.map((t,e)=>({pos:e,refCom:t.refCom,compName:t.compName})),i=[];while(e.length){const t=e.shift(),r=this.$refs[t.refCom][0];if(r.collectFormData){const e=r.collectFormData();e.compName=t.compName,i.push(e)}}return[t,...i]},handleSort(t){const e=this.formList,i=[];for(let r=0;r<t.length;r++){const a=e.find(e=>e.id==t[r]);a&&i.push(a)}this.formList=i},handleChangeBase(t,e){this.baseForm.ow=e},setBaseForm(t){this.baseForm={id:"base",ref:"refBase",ow:{},props:{propFormData:t}}},setFormList(t){t.forEach(t=>{const e=this.getFormInfo(p[t.type],At);e.props.propFormData=t,e.ow=t,t.compName&&(e.compName=t.compName),this.formList.push(e),At++}),console.log("this.formList",this.formList)},getCurrentIndex(t){return this.formList.findIndex(e=>e.id==t)}}},qt=Rt,zt=(i("124c"),Object(w["a"])(qt,c,n,!1,null,"5a93b534",null)),Jt=zt.exports,Kt={name:"App",components:{platform:Jt}},Vt=Kt,Gt=(i("dd09"),Object(w["a"])(Vt,o,l,!1,null,null,null)),Ht=Gt.exports;r["default"].use(s.a),r["default"].config.productionTip=!1,new r["default"]({render:t=>t(Ht)}).$mount("#app")},6216:function(t,e,i){},6925:function(t,e,i){},"6f85":function(t,e,i){"use strict";i("285e")},7053:function(t,e,i){},a127:function(t,e,i){"use strict";i("7053")},aafe:function(t,e,i){},adf9:function(t,e,i){},b55c:function(t,e,i){"use strict";i("ccf6")},bd75:function(t,e,i){"use strict";i("c542")},c542:function(t,e,i){},ccf6:function(t,e,i){},cd46:function(t,e,i){"use strict";i("10ac")},dd09:function(t,e,i){"use strict";i("e16d")},e16d:function(t,e,i){},ef2e:function(t,e,i){"use strict";i("adf9")},f979:function(t,e,i){"use strict";i("6925")},fbd5:function(t,e,i){"use strict";i("1686")},fdce:function(t,e,i){}});
//# sourceMappingURL=app.6f5d831d.js.map